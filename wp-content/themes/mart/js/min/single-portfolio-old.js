(function(){var animationElements;var onloadAnimationStep=150;window.preparePageAfterLoadCallBack=function(){wrapNodeStrings(document.querySelector('.page-title'),['string-width-animation','onload-animation']);animationElements=querySelectorAsArray('.header-block .onload-animation, .main-block .intro, .main-block .pinned-section');window.pageOnLoadAnimationTimeout=(animationElements.length+1)*onloadAnimationStep;window.afterPageOnLoadAnimationTimeout=(animationElements.length+1)*onloadAnimationStep;};window.pageOnLoadAnimationCallback=function(){animateElements(animationElements,onloadAnimationStep);};window.afterPageOnLoadAnimationCallback=function(){querySelectorAsArray('.page-title .string-width-animation').forEach(function(string){string.classList.add('disable-animation-style');});};if(document.querySelector('.pinned-section')){var stickOptions={offset_top:0,recalc_every:1};var $pinned=$(".pinned");document.querySelector('.pinned-section .photos').style.minHeight=$pinned.height()+10+'px';var stickInitialized=false;function init(){if(window.innerWidth>1024){if(!stickInitialized){$pinned.stick_in_parent(stickOptions);stickInitialized=true;}}else{if(stickInitialized){$pinned.trigger("sticky_kit:detach");$pinned.removeData("sticky_kit");stickInitialized=false;}}}
init();window.addEventListener('resize',init);function reInitStick(){$pinned.trigger("sticky_kit:detach");$pinned.removeData("sticky_kit");$pinned.stick_in_parent(stickOptions);}
window.reInitStick=reInitStick;on('.pinned-section img','load',function(){if(window.innerWidth>1024){reInitStick();}});}
var bottomContacts=document.querySelector('.bottom-contacts'),bottomContactsTop=bottomContacts.getBoundingClientRect().top,adjacentPostsBlock=document.querySelector('.adjacent-posts-block');window.addEventListener('resize',function(){bottomContactsTop=bottomContacts.getBoundingClientRect().top;});function setBottomContactsColorOnAdjacentPostsBlock(){if(isDesktop()){var adjacentPostsBlockTop=adjacentPostsBlock.getBoundingClientRect().top;if(adjacentPostsBlockTop<bottomContactsTop&&!bottomContacts.classList.contains('white')){bottomContacts.classList.add('white');}else if(adjacentPostsBlockTop>bottomContactsTop&&bottomContacts.classList.contains('white')){bottomContacts.classList.remove('white');}}else if(bottomContacts.classList.contains('white')){bottomContacts.classList.remove('white');}}
setBottomContactsColorOnAdjacentPostsBlock();window.addEventListener('scroll',setBottomContactsColorOnAdjacentPostsBlock,scrollEventListenerThirdArgument);Array.prototype.slice.call(document.querySelectorAll('iframe[src*="youtube.com"], iframe[data-src*="youtube.com"]')).forEach(function(iframe){var $iframe=$(iframe);var originalWidth=iframe.width;var originalHeight=iframe.height;var ratio=originalHeight/originalWidth*100;var roundedRatio=ratio.toFixed(2);$iframe.wrap('<div style="max-width:'+originalWidth+'px;margin:auto;"></div>');$iframe.wrap('<div style="position:relative; padding-top:'+roundedRatio+'%"></div>');$iframe.css({position:'absolute',top:0,left:0,width:'100%',height:'100%'});});})();