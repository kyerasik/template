(function(){(function(){var slidesChangeInterval=5000;var imagePreloadDelay=4000;var slider=document.querySelector('.main-block .slider');var slides=querySelectorAsArray('.main-block .slider .slide');var currentSlideIndex=Math.floor(Math.random()*slides.length);preloadSlide(currentSlideIndex);setPreloadingTimeout();slides[currentSlideIndex].classList.add('active');function getNextSlideIndex(slideIndex){return(++slideIndex===slides.length)?0:slideIndex;}
function setPreloadingTimeout(){setTimeout(function(){preloadSlide(getNextSlideIndex(currentSlideIndex));},imagePreloadDelay);}
function preloadSlide(index){var slide=slides[index];if(!slide.classList.contains('loaded')){slide.classList.add('loaded');var img=slide.querySelector('img');img.srcset=img.dataset.srcset;img.src=img.dataset.src;}}
function setSlide(index){var currentSlide=slider.querySelector('.active');currentSlide.classList.add('hidden');slides[index].classList.add('active');currentSlide.classList.remove('active');setTimeout(function(){currentSlide.classList.remove('hidden');},1000);}
function nextSlide(){currentSlideIndex=getNextSlideIndex(currentSlideIndex);setSlide(currentSlideIndex);setPreloadingTimeout();}
setInterval(nextSlide,slidesChangeInterval);})();var scrollToNextScreenElement=document.querySelector('.scroll-to-next-screen');scrollToNextScreenElement.addEventListener('click',function(){scrollToElement('.portfolio-blocks-title-block');this.classList.add('hidden');});function hideScrollToNextScreenElement(){scrollToNextScreenElement.classList.add('hidden');window.removeEventListener('scroll',hideScrollToNextScreenElement,scrollEventListenerThirdArgument);}
window.addEventListener('scroll',hideScrollToNextScreenElement,scrollEventListenerThirdArgument);var pageTitle=document.querySelector('.page-title');var pageTitleHTML=pageTitle.innerHTML;var rollBackPageTitle=false;var onloadAnimationStep=300;var animationElements;window.preparePageAfterLoadCallBack=function(){if(isMobile()){rollBackPageTitle=true;pageTitle.innerHTML=pageTitle.textContent;wrapNodeStrings(document.querySelector('.page-title'),['string-width-animation','onload-animation']);}
animationElements=querySelectorAsArray('#front-page .onload-animation');if(isMobile()){animationElements.push(document.querySelector('.portfolio-blocks-title-block'));}
window.pageOnLoadAnimationTimeout=(animationElements.length+1)*onloadAnimationStep;};window.pageOnLoadAnimationCallback=function(){animateElements(animationElements,onloadAnimationStep);document.querySelector('.main-block .slider').classList.add('scale-animation');if(rollBackPageTitle){setTimeout(function(){pageTitle.innerHTML=pageTitleHTML;querySelectorAsArray('.page-title .onload-animation').forEach(function(item){item.classList.add('animated');});},window.pageOnLoadAnimationTimeout);}};document.querySelector('.navigation-button-new-works').addEventListener('click',function(){scrollToElement(document.querySelector('.project-block-1'));});document.querySelector('.navigation-button-services').addEventListener('click',function(){scrollToElement(document.querySelector('.services-block'));});document.querySelector('.navigation-button-contacts').addEventListener('click',function(){scrollToElement(document.querySelector('.footer-container'));});var leftProjectsBorders=querySelectorAsArray('.project-block .left-border');var rightProjectsBorders=querySelectorAsArray('.project-block .right-border');var baseProjectBorderWidth=4;window.addEventListener('mousemove',function(e){if(isDesktop()){var position=e.clientX/window.innerWidth;leftProjectsBorders.forEach(function(leftBorder){leftBorder.style.width=baseProjectBorderWidth+baseProjectBorderWidth*position+'%';});rightProjectsBorders.forEach(function(rightBorder){rightBorder.style.width=baseProjectBorderWidth-baseProjectBorderWidth*position+'%';});}});on('.project-block .text-container','mouseenter',function(e){this.querySelector('.project-link').classList.add('hover');});on('.project-block .text-container','mouseleave',function(e){this.querySelector('.project-link').classList.remove('hover');});})();